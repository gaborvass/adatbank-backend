os:
    - osx
osx_image: xcode9.2
language: generic
sudo: required
dist: trusty


before_install:
    - if [ $TRAVIS_OS_NAME == "osx" ]; then
            brew tap vapor/tap;
            brew update;
            brew install vapor;
        else
            eval "$(curl -sL https://apt.vapor.sh)";
            sudo apt-get install vapor;
            sudo chmod -R a+rx /usr/;
        fi

script:
    - swift build
    - swift build -c release

deploy:
  provider: heroku
  api_key:
    secure: c15ab1bd-a746-4b66-ba34-6492d7e539bc
